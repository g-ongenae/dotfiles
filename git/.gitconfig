[user]
  name = Guillaume Ongenae
  email = guillaume.ongenae@algoan.com

[github]
  user = g-ongenae

[gitlab]
  user = g-ongenae

[bitbucket]
  user = g_ongenae

[alias]
  ## Basic
  i = init
  sm = submodule
  t = tag

  ## Commit...
  a = add
  c = commit
  cz = "!sh -c \"npm run commit\""                  # Commit with committizen (git-cz)
  co = checkout
  cp = cherry-pick
  r = rebase

  ## Branch
  b = branch
  cu = rev-parse --abbrev-ref HEAD                  # Get the current branch name (cu for current)
  m = merge
  sw = switch

  ## Info
  ci = ci-status HEAD                               # Show the status of the last commit on the CI
  df = diff --word-diff                             # To show diff by words
  h = help
  l = log --oneline -n 10
  log = log -n 10
  s = status
  sh = show --pretty=""

  ## With remote
    # List all of the branches on the remote (ex: git br [remote])
  br = "!f() { git ls-remote -q --heads \"${1:-origin}\" | sed -nE 's/^.{30,}refs\\/heads\\/(.+)$/\\1/p'; }; f"
  cl = clone --recurse-submodules
  fe = fetch
  pl = pull
  ps = push
    # Push and create the current branch to the [remote] (e.g. git pu mine, default origin)
  pu = "!sh -c \"git push --set-upstream "${1:-origin}" "$(git rev-parse --abbrev-ref HEAD)"\" -"
    # Checkout a PR (ex: git pr <pr-number> [remote])
  pr = "!f() { git fetch -fu ${2:-origin} refs/pull/$1/head:pr/$1 && git checkout pr/$1; }; f"
  re = remote

  ## Stash commands
  apply = stash apply                               # Apply the stash and keep it in the stash history
  ls = stash list                                   # List all stash
  pop = stash pop                                   # Apply and drop the stash
  sa = stash save                                   # Stash all the files in the repository
  sf = stash push --                                # Stash file, only those given <files>

  ## Clean commands
  amend = commit --amend                            # Correct a commit (need -m for message or -a <file>)
  d = "!sh -c \"git rebase --onto '$1^' '$1'\" -"   # To delete a commit based on its SHA
  dl = "!sh -c \"git reset HEAD~'$1'\" -"           # To delete last [n] commits
  fix = commit --amend --no-edit                    # Make change to the last commit (need git add <file>)
  rs = restore
  rv = revert
  unst = checkout -- HEAD                           # Unstage changes
  unst-hard = reset --hard HEAD                     # Unstage changes and throw

  ## Bisection
  bi = bisect                                       # Run with start or run
  bid = bisect bad                                  # Please do not make a "bide"
  big = bisect good                                 # Man, it's good, that's big!

  ## Miscellaneous
  fork = "!sh -c \"gh repo --fork "$(git config --get remote.origin.url)"\""
  f = flow                                          # For gitflow, see: https://github.com/nvie/gitflow
  k = "!f() { open -a 'github desktop'; }; f"       # To open GitHub Desktop, name k for gitk

[hub]
  protocol = ssh

[color]
  ui = auto

[color "branch"]
  current = yellow reverse
  local = yellow
  remote = green

[color "diff"]
  meta = yellow bold
  frag = magenta bold
  old = red bold
  new = green bold

[color "status"]
  added = yellow
  changed = green
  untracked = cyan

[color "diff-highlight"]
  oldNormal = red bold
  oldHighlight = red bold 52
  newNormal = green bold
  newHighlight = green bold 22

[filter "lfs"]
  clean = git-lfs clean -- %f
  smudge = git-lfs smudge -- %f
  process = git-lfs filter-process
  required = true

[core]
  excludesfile = "${HOME}/Documents/prog/dotfiles/git/.gitignore_global"
